<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-11-21 Wed 11:58 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>How-to Software Guide (CWI CI Group)</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Jan-Willem Buurlage, Allard Hendriksen" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">How-to Software Guide (CWI CI Group)</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgeef2944">1. <span class="todo TODO">TODO</span> Introduction</a></li>
<li><a href="#org557f0a5">2. How-to</a>
<ul>
<li><a href="#orgd2d138a">2.1. Python</a>
<ul>
<li><a href="#org1b944f2">2.1.1. <span class="todo TODO">TODO</span> Auto-format your code</a></li>
<li><a href="#org9a4c505">2.1.2. Call MATLAB from Python</a></li>
</ul>
</li>
<li><a href="#orge8b045c">2.2. C++</a>
<ul>
<li><a href="#org089e0f8">2.2.1. <span class="todo TODO">TODO</span> Auto-format your code</a></li>
<li><a href="#org32f8ebc">2.2.2. <span class="todo TODO">TODO</span> Use CMake to build your software</a></li>
<li><a href="#orgf3d21d6">2.2.3. <span class="todo TODO">TODO</span> Use a good set of compile commands</a></li>
<li><a href="#org8eb7931">2.2.4. <span class="todo TODO">TODO</span> Manage dynamic dependencies</a></li>
<li><a href="#orgc76560f">2.2.5. Create Python bindings using <code>pybind11</code></a></li>
</ul>
</li>
<li><a href="#org566746d">2.3. General</a>
<ul>
<li><a href="#org36a9e1c">2.3.1. Contribute to someone else's project</a></li>
<li><a href="#org3c574db">2.3.2. Record an animated GIF of your screen</a></li>
<li><a href="#org310f4e8">2.3.3. <span class="todo TODO">TODO</span> Write good documentation</a></li>
<li><a href="#orgb664321">2.3.4. <span class="todo TODO">TODO</span> Write good commit messages</a></li>
<li><a href="#org30ea27f">2.3.5. <span class="todo TODO">TODO</span> Write a good readme</a></li>
<li><a href="#org424902f">2.3.6. <span class="todo TODO">TODO</span> Set up your Git branches</a></li>
<li><a href="#org25a35ed">2.3.7. <span class="todo TODO">TODO</span> Use module systems</a></li>
<li><a href="#orgac85d89">2.3.8. <span class="todo TODO">TODO</span> Set up travis CI</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgeef2944" class="outline-2">
<h2 id="orgeef2944"><span class="section-number-2">1</span> <span class="todo TODO">TODO</span> Introduction</h2>
</div>
<div id="outline-container-org557f0a5" class="outline-2">
<h2 id="org557f0a5"><span class="section-number-2">2</span> How-to</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgd2d138a" class="outline-3">
<h3 id="orgd2d138a"><span class="section-number-3">2.1</span> Python</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org1b944f2" class="outline-4">
<h4 id="org1b944f2"><span class="section-number-4">2.1.1</span> <span class="todo TODO">TODO</span> Auto-format your code</h4>
<div class="outline-text-4" id="text-2-1-1">
</div>
<ol class="org-ol">
<li><a id="org619757c"></a>PEP8<br /></li>
<li><a id="orgdf2c457"></a><a href="https://github.com/google/yapf">yapf</a><br /></li>
</ol>
</div>
<div id="outline-container-org9a4c505" class="outline-4">
<h4 id="org9a4c505"><span class="section-number-4">2.1.2</span> Call MATLAB from Python</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
Author: <i>Jan-Willem Buurlage</i>
</p>

<p>
To install the MATLAB engine wrapper for Python for a Conda environment on your
CWI workstation, run the following commands:
</p>
<div class="org-src-container">
<pre class="src src-bash">conda create -n matlab <span style="font-weight: bold; font-style: italic;">python</span>=3.6
conda activate matlab
<span style="font-weight: bold;">cd</span> /opt/sw/matlab-YYYYx/extern/engines/python
python setup.py build --build-base=<span style="font-style: italic;">"/tmp"</span> install 
</pre>
</div>
<p>
Now, you can call MATLAB functions from Python:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">import</span> matlab.engine

<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">start the MATLAB program (which takes a long time)</span>
<span style="font-weight: bold; font-style: italic;">eng</span> = matlab.engine.start_matlab()
<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">alternative: start asynchronously</span>
<span style="font-weight: bold; font-style: italic;">future</span> = matlab.engine.start_matlab(async=<span style="font-weight: bold; text-decoration: underline;">True</span>)
<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">... other Python code</span>
<span style="font-weight: bold; font-style: italic;">eng</span> = future.result()
</pre>
</div>
<p>
You can call your own MATLAB scripts (<code>.m</code> files in the same folder), such as
the following <code>triarea.m</code>:
</p>
<div class="org-src-container">
<pre class="src src-octave"><span style="font-weight: bold;">function</span> a <span style="font-weight: bold;">=</span> <span style="font-weight: bold;">triarea</span>(b<span style="font-weight: bold;">,</span>h)
a <span style="font-weight: bold;">=</span> 0.5<span style="font-weight: bold;">*</span>(b<span style="font-weight: bold;">.*</span> h)<span style="font-weight: bold;">;</span>
</pre>
</div>
<p>
from Python using:
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold; font-style: italic;">x</span> = eng.triarea(1.5, 3.5)
</pre>
</div>
<p>
For conversions between arrays and MATLAB, see <a href="https://nl.mathworks.com/help/matlab/matlab_external/matlab-arrays-as-python-variables.html">the MATLAB Python API docs</a>.
</p>

<p>
See also:
</p>
<ul class="org-ul">
<li><a href="https://www.mathworks.com/help/matlab/matlab_external/install-the-matlab-engine-for-python.html">Installation documentation from MathWorks</a></li>
<li><a href="https://www.mathworks.com/help/matlab/matlab_external/call-user-script-and-function-from-python.html">Calling user scripts from Python</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orge8b045c" class="outline-3">
<h3 id="orge8b045c"><span class="section-number-3">2.2</span> C++</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-org089e0f8" class="outline-4">
<h4 id="org089e0f8"><span class="section-number-4">2.2.1</span> <span class="todo TODO">TODO</span> Auto-format your code</h4>
<div class="outline-text-4" id="text-2-2-1">
</div>
<ol class="org-ol">
<li><a id="orgc5d557d"></a><code>clang-format</code><br /></li>
</ol>
</div>
<div id="outline-container-org32f8ebc" class="outline-4">
<h4 id="org32f8ebc"><span class="section-number-4">2.2.2</span> <span class="todo TODO">TODO</span> Use CMake to build your software</h4>
<div class="outline-text-4" id="text-2-2-2">
</div>
<ol class="org-ol">
<li><a id="org329e767"></a>C++ Weekly, <a href="https://www.youtube.com/watch?v=HPMvU64RUTY">Intro to CMake</a><br /></li>
<li><a id="org385b1bc"></a><a href="https://llvm.org/docs/CMakePrimer.html">CMakePrimer (LLVM)</a><br /></li>
<li><a id="org67cfc75"></a><a href="https://www.youtube.com/watch?v=eC9-iRN2b04">CppCon 2017: Mathieu Ropert “Using Modern CMake Patterns to Enforce a Good Modular Design”</a><br /></li>
<li><a id="org205991e"></a><a href="https://www.youtube.com/watch?v=bsXLMQ6WgIk">C++Now 2017: Daniel Pfeifer “Effective CMake"</a><br /></li>
<li><a id="orge55bd10"></a><a href="https://foonathan.net/blog/2016/07/07/cmake-dependency-handling.html">Dependency management CMake/Git</a><br />
<div class="outline-text-5" id="text-2-2-2-5">
<p>
Example:
</p>
<div class="org-src-container">
<pre class="src src-cmake">find_package(ZeroMQ QUIET)

if (ZeroMQ_FOUND)
    add_library(zmq INTERFACE)
    target_include_directories(zmq INTERFACE ${ZeroMQ_INCLUDE_DIR})
    target_link_libraries(zmq INTERFACE ${ZeroMQ_LIBRARY})
else()
    message("'zmq' not installed on the system, building from source...")

    execute_process(COMMAND git submodule update --init --remote -- ext/libzmq
	WORKING_DIRECTORY ${CMAKE_SOURCE_DIR})

    set(ZMQ_BUILD_TESTS OFF CACHE BOOL "disable tests" FORCE)
    set(WITH_PERF_TOOL OFF CACHE BOOL "disable perf-tools" FORCE)
    add_subdirectory(${CMAKE_SOURCE_DIR}/ext/libzmq)
    set(ZMQ_INCLUDE_DIR ${CMAKE_SOURCE_DIR}/ext/libzmq/include)

    # ZeroMQ names their target libzmq, which is inconsistent =&gt; create a ghost dependency
    add_library(zmq INTERFACE)
    target_link_libraries(zmq INTERFACE libzmq)
endif()
</pre>
</div>
</div>
</li>
<li><a id="orge081a08"></a><a href="https://foonathan.net/blog/2018/10/17/cmake-warnings.html">https://foonathan.net/blog/2018/10/17/cmake-warnings.html</a><br /></li>
</ol>
</div>
<div id="outline-container-orgf3d21d6" class="outline-4">
<h4 id="orgf3d21d6"><span class="section-number-4">2.2.3</span> <span class="todo TODO">TODO</span> Use a good set of compile commands</h4>
<div class="outline-text-4" id="text-2-2-3">
</div>
<ol class="org-ol">
<li><a id="org712d20c"></a>Sensible compile flags<br />
<ol class="org-ol">
<li><a id="org7001a62"></a><code>-Wall</code><br /></li>
<li><a id="org38ffb8f"></a><code>-Werror</code><br /></li>
<li><a id="org4a3dfda"></a><code>-Wfatal</code><br /></li>
<li><a id="orge877e4e"></a>&#x2026;<br /></li>
</ol>
</li>
</ol>
</div>
<div id="outline-container-org8eb7931" class="outline-4">
<h4 id="org8eb7931"><span class="section-number-4">2.2.4</span> <span class="todo TODO">TODO</span> Manage dynamic dependencies</h4>
<div class="outline-text-4" id="text-2-2-4">
<p>
Three places that a binary looks for shared dependencies
</p>
<ol class="org-ol">
<li><code>LD_LIBRARY_PATH</code></li>
<li><code>rpath</code> encoded in binary</li>
<li>system default paths</li>
</ol>

<p>
Danger of (1) is that it overrides the specific dependencies of all binaries run.
</p>

<p>
For shared systems, or non-root users, (3) can be a problem.
</p>

<p>
For 2 you proceed as follows:
</p>
<ul class="org-ul">
<li>set <code>LD_RUN_PATH</code> to something hardcoded</li>
<li>use <code>-R</code> in gcc</li>
</ul>

<p>
To check the <code>RPATH</code> in a binary on Linux, use <code>readelf -d &lt;binary&gt;</code>.
</p>

<p>
To list all dynamic dependencies, use <code>ldd &lt;binary&gt;</code>
</p>

<p>
See also: <a href="https://www.eyrie.org/~eagle/notes/rpath.html">https://www.eyrie.org/~eagle/notes/rpath.html</a>.
</p>
</div>
</div>
<div id="outline-container-orgc76560f" class="outline-4">
<h4 id="orgc76560f"><span class="section-number-4">2.2.5</span> Create Python bindings using <code>pybind11</code></h4>
<div class="outline-text-4" id="text-2-2-5">
<p>
Author: <i>Jan-Willem Buurlage</i>
</p>

<p>
Adding Python bindings to C++ code is straightforward with pybind11. A good
setup is as follows. (All relative to the root folder of the C++ project, which
I call <code>your_project</code> here)
</p>
</div>
<ol class="org-ol">
<li><a id="orgc3dd807"></a>Add pybind11 as a git submodule<br />
<div class="outline-text-5" id="text-2-2-5-1">
<div class="org-src-container">
<pre class="src src-bash">git submodule add https://github.com/pybind/pybind11.git ext/pybind11
</pre>
</div>
</div>
</li>
<li><a id="org34c3af4"></a>Set up the Python bindings<br />
<div class="outline-text-5" id="text-2-2-5-2">
<p>
Make a directory <code>python</code>, containing at least three files:
</p>
</div>
<ol class="org-ol">
<li><a id="orgd786a11"></a><code>python/src/module.cpp</code><br />
<div class="outline-text-6" id="text-2-2-5-2-1">
<p>
This contains the actual bindings, an example is like this:
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="font-weight: bold;">#include</span> <span style="font-style: italic;">&lt;pybind11/pybind11.h&gt;</span>
<span style="font-weight: bold;">namespace</span> <span style="font-weight: bold; text-decoration: underline;">py</span> = pybind11;

<span style="font-weight: bold;">#include</span> <span style="font-style: italic;">"your_project/your_project.hpp"</span>

<span style="font-weight: bold;">using</span> <span style="font-weight: bold;">namespace</span> <span style="font-weight: bold; text-decoration: underline;">your_project</span>;

<span style="font-weight: bold;">PYBIND11_MODULE</span>(py_your_project, m) {
    m.doc() = <span style="font-style: italic;">"bindings for your_project"</span>;

    <span style="font-weight: bold; text-decoration: underline;">py</span>::class_&lt;<span style="font-weight: bold; text-decoration: underline;">your_project</span>::object&gt;(m, <span style="font-style: italic;">"object"</span>);
}
</pre>
</div>
</div>
</li>
<li><a id="org4862325"></a><code>python/your_project/__init__.py</code><br />
<div class="outline-text-6" id="text-2-2-5-2-2">
<p>
The entry point for the Python specific code of your project. Also reexports
symbols from the generated bindings.
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> py_your_project <span style="font-weight: bold;">import</span> *
</pre>
</div>
</div>
</li>
<li><a id="org51a2d76"></a><code>python/CMakeLists.txt</code><br />
<div class="outline-text-6" id="text-2-2-5-2-3">
<p>
You can build the bindings using CMake.
</p>
<div class="org-src-container">
<pre class="src src-cmake">set(BINDING_NAME "py_your_project")
set(BINDING_SOURCES "src/module.cpp")

set(CMAKE_LIBRARY_OUTPUT_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}")

pybind11_add_module(${BINDING_NAME} ${BINDING_SOURCES})

target_link_libraries(${BINDING_NAME} PRIVATE your_project)
</pre>
</div>
</div>
</li>
</ol>
</li>
<li><a id="orga455725"></a>Add it as a subdirectory<br />
<div class="outline-text-5" id="text-2-2-5-3">
<p>
In the main <code>CMakeLists.txt</code> of your project, add the Python folder:
</p>
<div class="org-src-container">
<pre class="src src-cmake">...
add_subdirectory("ext/pybind11")
add_subdirectory("python")
</pre>
</div>
<p>
Now, the python bindings will be built alongside your project.
</p>
</div>
</li>
</ol>
</div>
</div>
<div id="outline-container-org566746d" class="outline-3">
<h3 id="org566746d"><span class="section-number-3">2.3</span> General</h3>
<div class="outline-text-3" id="text-2-3">
</div>
<div id="outline-container-org36a9e1c" class="outline-4">
<h4 id="org36a9e1c"><span class="section-number-4">2.3.1</span> Contribute to someone else's project</h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
Author: <i>Henri der Sarkissian</i>
</p>

<p>
Having a common software repository helps us to share and use code from other members, but also contribute to them. This implies obtaining the source code (and not the compiled binaries or the conda package) from Github and commit the changes. Obviously, commiting changes comports a risk of introducing bug or unwanted features for the software. You should therefore commit your changes in a separate branch and open a pull request. After inspection, your changes will eventually be accepted and incorporated into the main branch. 
Let us now describe this procedure step by step.
</p>

<p>
First, checkout the source code and cd to this directory.
</p>
<div class="org-src-container">
<pre class="src src-bash">git git@github.com:cicwi/RECAST3D.git
<span style="font-weight: bold;">cd</span> ~/projects/recast3d/
</pre>
</div>

<p>
Change something:
</p>
<div class="org-src-container">
<pre class="src src-bash">touch some_file_to_add
</pre>
</div>

<p>
Stage file:
</p>
<div class="org-src-container">
<pre class="src src-bash">git add some_file_to_add
</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash">git checkout -b reverse_polarity
</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash">git commit -m <span style="font-style: italic;">"Reverse the polarity of neutron flow"</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash">git push origin reverse_neutron_flow
</pre>
</div>

<p>
Visit the project page on GitHub, and in the tab <i>Pull requests</i> click on <i>New pull request</i>. For more information about pull requests, see <a href="https://help.github.com/articles/about-pull-requests/">https://help.github.com/articles/about-pull-requests/</a>.
</p>
</div>
</div>
<div id="outline-container-org3c574db" class="outline-4">
<h4 id="org3c574db"><span class="section-number-4">2.3.2</span> Record an animated GIF of your screen</h4>
<div class="outline-text-4" id="text-2-3-2">
<p>
Author: <i>Jan-Willem Buurlage</i>
</p>

<p>
For recording animated GIFs of a region of your screen, you can use Peek
<a href="https://github.com/phw/peek">https://github.com/phw/peek</a>. The easiest way to get it to run on a CWI
workstation is by using an AppImage of a recent release, which you can get from
the releases page <a href="https://github.com/phw/peek/releases">https://github.com/phw/peek/releases</a>.
</p>

<p>
After downloading, make the file executable (either using your file manager, or
by calling <code>chmod +x [peek_release.AppImage]</code> from a terminal). Now you can run
Peek, which has a straightforward interface: resize the Peek window and click on
record, after three seconds it will start recording the region of your screen
that is visible.
</p>
</div>
</div>
<div id="outline-container-org310f4e8" class="outline-4">
<h4 id="org310f4e8"><span class="section-number-4">2.3.3</span> <span class="todo TODO">TODO</span> Write good documentation</h4>
<div class="outline-text-4" id="text-2-3-3">
<ul class="org-ul">
<li><a href="http://stevelosh.com/blog/2013/09/teach-dont-tell/">http://stevelosh.com/blog/2013/09/teach-dont-tell/</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgb664321" class="outline-4">
<h4 id="orgb664321"><span class="section-number-4">2.3.4</span> <span class="todo TODO">TODO</span> Write good commit messages</h4>
<div class="outline-text-4" id="text-2-3-4">
<ul class="org-ul">
<li><a href="http://chris.beams.io/posts/git-commit/">http://chris.beams.io/posts/git-commit/</a></li>
</ul>
</div>
</div>
<div id="outline-container-org30ea27f" class="outline-4">
<h4 id="org30ea27f"><span class="section-number-4">2.3.5</span> <span class="todo TODO">TODO</span> Write a good readme</h4>
<div class="outline-text-4" id="text-2-3-5">
<p>
<a href="https://github.com/LappleApple/feedmereadmes/blob/master/README-maturity-model.md">This github repo</a> contains a useful model of maturity levels for a
project's README.md file. It defines both the current level of
maturity of a README and gives pointers on how to improve.
</p>
</div>
</div>
<div id="outline-container-org424902f" class="outline-4">
<h4 id="org424902f"><span class="section-number-4">2.3.6</span> <span class="todo TODO">TODO</span> Set up your Git branches</h4>
<div class="outline-text-4" id="text-2-3-6">
<ul class="org-ul">
<li><b>Branching model</b>: <a href="http://nvie.com/posts/a-successful-git-branching-model/">http://nvie.com/posts/a-successful-git-branching-model/</a></li>
</ul>
</div>
</div>
<div id="outline-container-org25a35ed" class="outline-4">
<h4 id="org25a35ed"><span class="section-number-4">2.3.7</span> <span class="todo TODO">TODO</span> Use module systems</h4>
</div>
<div id="outline-container-orgac85d89" class="outline-4">
<h4 id="orgac85d89"><span class="section-number-4">2.3.8</span> <span class="todo TODO">TODO</span> Set up travis CI</h4>
<div class="outline-text-4" id="text-2-3-8">
</div>
<ol class="org-ol">
<li><a id="org3f74df1"></a>C++17<br /></li>
<li><a id="org32344a3"></a>travis.yml / Makefile<br /></li>
</ol>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Jan-Willem Buurlage, Allard Hendriksen</p>
<p class="date">Created: 2018-11-21 Wed 11:58</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
